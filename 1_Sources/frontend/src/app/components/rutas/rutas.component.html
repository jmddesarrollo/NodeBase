<!-- Panel Central de la sección de Rutas -->
<div class="w3-container w3-panel" id="div-panel-central">
    <a [routerLink]="['/rutas/form']" class="w3-btn w3-blue w3-margin-bottom" *ngIf="permiso === adminId">Añadir ruta</a>
    <div>
        <select class="w3-select" name="option" [(ngModel)]="opcRutas" (change)="cambiarOpcion()">
            <option value="1" selected>Observar rutas pendientes</option>
            <option value="2">Observar todas las rutas</option>
          </select>
    </div>

    <div id="div_panel_enlaces" class="w3-card w3-responsive w3-border w3-margin-bottom" (window:resize)="onResize($event)">
        <ngx-datatable class="material striped" [rows]="rutas" [columnMode]="'flex'" [headerHeight]="40" [footerHeight]="40" [rowHeight]="30" [sorts]="[{prop: 'fecha', dir: 'desc'}]" [limit]="numRegs" [messages]="{emptyMessage: 'Sin datos a mostrar'}" (click)="editContador()">
            <ngx-datatable-column name="Fecha" prop="fecha" [headerClass]="'w3-padding'" [cellClass]="'w3-padding-small'" [flexGrow]="1" [resizeable]="false" [draggable]="false">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex " let-row="row ">
                    <span>{{row.fecha | date: 'dd-MM-yyyy'}}</span>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Ruta" prop="titulo" [headerClass]="'w3-padding'" [cellClass]="'w3-padding-small'" [flexGrow]="4" [resizeable]="false" [draggable]="false">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex " let-row="row ">
                    <span title="{{row.titulo}}" class="mol-overflow">{{row.titulo}}</span>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Distancia" prop="distancia" [headerClass]="'w3-padding'" [cellClass]="'w3-padding-small'" [flexGrow]="1" [resizeable]="false" [draggable]="false">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex " let-row="row ">
                    <span title="{{row.distancia}}">{{row.distancia}} km.</span>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Desnivel" prop="desnivelSubida" [headerClass]="'w3-padding w3-center'" [cellClass]="'w3-padding-small w3-center'" [flexGrow]="1" [resizeable]="false" [draggable]="false">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex " let-row="row ">
                    <span title="{{row.desnivelSubida}}">{{row.desnivelSubida}} m.</span>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Dificultad" prop="dificultad.nombre" [headerClass]="'w3-padding w3-center'" [cellClass]="'w3-padding-small w3-center'" [flexGrow]="1" [resizeable]="false" [draggable]="false">
            </ngx-datatable-column>
            <ngx-datatable-column name="Opcional" prop="opcional" [headerClass]="'w3-padding w3-center'" [cellClass]="'w3-padding-small w3-center'" [flexGrow]="1" [resizeable]="false" [draggable]="false">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex " let-row="row ">
                    <span title="{{row.opcional}}" *ngIf="row.opcional">Si</span>
                    <span title="{{row.opcional}}" *ngIf="!row.opcional">No</span>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column id="acciones" name="Acciones" [headerClass]="'w3-padding w3-center'" [cellClass]="'w3-padding-small w3-center'" [flexGrow]="1" [resizeable]="false" [draggable]="false" [sortable]="false">
                <ng-template let-column="column" ngx-datatable-header-template><span title="Acciones" class="datatable-header-cell-label">Acciones</span></ng-template>
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex " let-row="row ">
                    <a [routerLink]="['/rutas/consulta/', row.id]"><i class="fa fa-lg fa-eye btn-cursor w3-text-orange" title="Detalle"></i></a>
                    <a [routerLink]="['/rutas/form/', row.id]"><i class="fa fa-lg fa-edit btn-cursor w3-text-green" title="Editar" *ngIf="permiso === adminId"></i></a>
                    <i class="fa fa-lg fa-times-rectangle btn-cursor w3-text-red" title="Eliminar" (click)="delRuta(row.id)" *ngIf="permiso === adminId"></i>
                </ng-template>
            </ngx-datatable-column>
        </ngx-datatable>
    </div>
    <br>
</div>